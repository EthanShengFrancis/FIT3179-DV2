{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Stacked area chart of monthly visitor arrivals for 2023 and 2024.",
  "data": {
        "url": "https://raw.githubusercontent.com/EthanShengFrancis/FIT3179-DV2/main/data/MonthlyArrivals.csv"
  },
  "transform": [
    {
      "fold": ["2019", "2020", "2021", "2022", "2023", "2024"],
      "as": ["Year", "Arrivals"]
    },
    {
      "filter": "isValid(datum.Arrivals)"
    }
  ],
  "params": [
    {
      "name": "YearSelection",
      "select": {"type": "point", "fields": ["Year"], "bind": "legend"}
    }
  ],
  "mark": {
    "type": "area",
    "interpolate": "monotone",
    "opacity": 0.7
  },
  "encoding": {
    "x": {
      "field": "MONTH",
      "type": "ordinal",
      "sort": [
        "JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE",
        "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"
      ],
      "title": "Month"
    },
    "y": {
      "aggregate": "sum",
      "field": "Arrivals",
      "type": "quantitative",
      "title": "Visitor Arrivals"
    },
    "color": {
      "field": "Year",
      "type": "nominal",
      "title": "Year",
      "scale": {"scheme": "set2"}
    },
    "opacity": {
      "condition": {"param": "YearSelection", "value": 0.7},
      "value": 0.1
    },
    "tooltip": [
      {"field": "MONTH", "type": "ordinal"},
      {"field": "Year", "type": "nominal"},
      {"field": "Arrivals", "type": "quantitative", "format": ","}
    ]
  },
  "width": 700,
  "height": 400
}